{"ast":null,"code":"var _jsxFileName = \"/home/jonathan/\\xC1rea de Trabalho/Super-Events/src/components/SearchEvents/index.js\";\nimport React, { Component } from 'react';\nimport firebase from '../../firebase';\nimport { Link } from 'react-router-dom';\nimport './searchevents.css';\nimport { FaRegClock, FaRegCalendarAlt, FaMapMarkerAlt } from \"react-icons/fa\";\nimport { Container, Row, Col, Button, Form, FormGroup, Input } from 'reactstrap';\n\nclass SearchEvents extends Component {\n  constructor(props) {\n    super(props);\n\n    this.pesquisar = async () => {\n      const _this$state = this.state,\n            inputEvento = _this$state.inputEvento,\n            inputCidade = _this$state.inputCidade,\n            inputData = _this$state.inputData,\n            returnedEvents = _this$state.returnedEvents;\n\n      try {\n        returnedEvents = firebase.searchEvents(inputEvento);\n        console.log(returnedEvents);\n      } catch (error) {\n        alert(error.message);\n      }\n    };\n\n    this.state = {\n      inputEvento: '',\n      inputCidade: '',\n      inputData: '',\n      passedEvents: [],\n      eventSearch: [],\n      verify: false\n    };\n    this.formatDate = this.formatDate.bind(this);\n    this.pesquisar = this.pesquisar.bind(this);\n  }\n\n  componentDidMount() {\n    this.state.passedEvents = this.props.location.itemsPassed;\n\n    if (this.state.passedEvents.passedName.length === 0 && this.state.passedEvents.passedCity.length === 0 && this.state.passedEvents.passedDate.length === 0) {\n      this.setState({\n        verify: false\n      });\n    } else if (this.state.passedEvents.passedName.length !== 0) {\n      firebase.app.ref('events').orderByChild(\"tituloLower\").equalTo(this.state.passedEvents.passedName.toLowerCase()).on('value', snapshot => {\n        let state = this.state;\n        state.eventSearch = [];\n        snapshot.forEach(childItem => {\n          state.eventSearch.push({\n            key: childItem.key,\n            titulo: childItem.val().titulo,\n            imagem: childItem.val().imagem,\n            descricao: childItem.val().descricao,\n            data: childItem.val().data,\n            hora: childItem.val().hora,\n            local: childItem.val().local,\n            cidade: childItem.val().cidade,\n            ativo: childItem.val().ativo\n          });\n        });\n        this.setState(state);\n        this.setState({\n          verify: true\n        });\n      });\n    } else if (this.state.passedEvents.passedCity.length !== 0) {\n      firebase.app.ref('events').orderByChild(\"cidadeLower\").equalTo(this.state.passedEvents.passedCity.toLowerCase()).on('value', snapshot => {\n        let state = this.state;\n        state.eventSearch = [];\n        snapshot.forEach(childItem => {\n          state.eventSearch.push({\n            key: childItem.key,\n            titulo: childItem.val().titulo,\n            imagem: childItem.val().imagem,\n            descricao: childItem.val().descricao,\n            data: childItem.val().data,\n            hora: childItem.val().hora,\n            local: childItem.val().local,\n            cidade: childItem.val().cidade,\n            ativo: childItem.val().ativo\n          });\n        });\n        this.setState(state);\n        this.setState({\n          verify: true\n        });\n      });\n    } else if (this.state.passedEvents.passedDate.length !== 0) {\n      firebase.app.ref('events').orderByChild(\"data\").equalTo(this.state.passedEvents.passedDate).on('value', snapshot => {\n        let state = this.state;\n        state.eventSearch = [];\n        snapshot.forEach(childItem => {\n          state.eventSearch.push({\n            key: childItem.key,\n            titulo: childItem.val().titulo,\n            imagem: childItem.val().imagem,\n            descricao: childItem.val().descricao,\n            data: childItem.val().data,\n            hora: childItem.val().hora,\n            local: childItem.val().local,\n            cidade: childItem.val().cidade,\n            ativo: childItem.val().ativo\n          });\n        });\n        this.setState(state);\n        this.setState({\n          verify: true\n        });\n      });\n    } else if (this.state.passedEvents.passedName.length !== 0 && this.state.passedEvents.passedCity.length !== 0) {\n      firebase.app.ref('events').orderByChild(\"titulo_cidade\").equalTo(this.state.passedEvents.passedName.toLowerCase() + '_' + this.state.passedEvents.passedCity.toLowerCase()).on('value', snapshot => {\n        let state = this.state;\n        state.eventSearch = [];\n        snapshot.forEach(childItem => {\n          state.eventSearch.push({\n            key: childItem.key,\n            titulo: childItem.val().titulo,\n            imagem: childItem.val().imagem,\n            descricao: childItem.val().descricao,\n            data: childItem.val().data,\n            hora: childItem.val().hora,\n            local: childItem.val().local,\n            cidade: childItem.val().cidade,\n            ativo: childItem.val().ativo\n          });\n        });\n        this.setState(state);\n        this.setState({\n          verify: true\n        });\n      });\n    } else if (this.state.passedEvents.passedCity.length !== 0 && this.state.passedEvents.passedDate.length !== 0) {\n      firebase.app.ref('events').orderByChild(\"cidade_data\").equalTo(this.state.passedEvents.passedCity.toLowerCase() + '_' + this.state.passedEvents.passedDate).on('value', snapshot => {\n        let state = this.state;\n        state.eventSearch = [];\n        snapshot.forEach(childItem => {\n          state.eventSearch.push({\n            key: childItem.key,\n            titulo: childItem.val().titulo,\n            imagem: childItem.val().imagem,\n            descricao: childItem.val().descricao,\n            data: childItem.val().data,\n            hora: childItem.val().hora,\n            local: childItem.val().local,\n            cidade: childItem.val().cidade,\n            ativo: childItem.val().ativo\n          });\n        });\n        this.setState(state);\n        this.setState({\n          verify: true\n        });\n      });\n    } else if (this.state.passedEvents.passedName.length !== 0 && this.state.passedEvents.passedDate.length !== 0) {\n      firebase.app.ref('events').orderByChild(\"titulo_data\").equalTo(this.state.passedEvents.passedName.toLowerCase() + '_' + this.state.passedEvents.passedDate).on('value', snapshot => {\n        let state = this.state;\n        state.eventSearch = [];\n        snapshot.forEach(childItem => {\n          state.eventSearch.push({\n            key: childItem.key,\n            titulo: childItem.val().titulo,\n            imagem: childItem.val().imagem,\n            descricao: childItem.val().descricao,\n            data: childItem.val().data,\n            hora: childItem.val().hora,\n            local: childItem.val().local,\n            cidade: childItem.val().cidade,\n            ativo: childItem.val().ativo\n          });\n        });\n        this.setState(state);\n        this.setState({\n          verify: true\n        });\n      });\n    }\n  }\n\n  formatDate(data) {\n    let today = data;\n    var brDate = today.slice(8, 10) + '/' + today.slice(5, 7); //  + '/' + today.slice(0, 4);\n\n    return brDate;\n  }\n\n  render() {\n    const verify = this.state.verify; // if(verify){\n\n    return React.createElement(\"div\", {\n      id: \"tip\",\n      className: \"px-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(Container, {\n      id: \"post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, this.state.eventSearch.map(post => {\n      //if (post.ativo) {\n      return React.createElement(Col, {\n        xs: \"12\",\n        sm: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"link\",\n        key: post.key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/event/\".concat(post.key),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"article\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, post.titulo))), React.createElement(\"img\", {\n        src: post.imagem,\n        alt: \"Capa do post\",\n        className: \"rounded\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }), React.createElement(\"footer\", {\n        id: \"dados\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"mx-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(FaRegCalendarAlt, {\n        className: \"icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      })), this.formatDate(post.data))), React.createElement(Col, {\n        xs: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"mx-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(FaRegClock, {\n        className: \"icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      })), post.hora))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"12\",\n        className: \"ml-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"mx-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(FaMapMarkerAlt, {\n        className: \"icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      })), post.cidade)))))))); //}\n    }))))); // }\n  }\n\n}\n\nexport default SearchEvents;","map":{"version":3,"sources":["/home/jonathan/Área de Trabalho/Super-Events/src/components/SearchEvents/index.js"],"names":["React","Component","firebase","Link","FaRegClock","FaRegCalendarAlt","FaMapMarkerAlt","Container","Row","Col","Button","Form","FormGroup","Input","SearchEvents","constructor","props","pesquisar","state","inputEvento","inputCidade","inputData","returnedEvents","searchEvents","console","log","error","alert","message","passedEvents","eventSearch","verify","formatDate","bind","componentDidMount","location","itemsPassed","passedName","length","passedCity","passedDate","setState","app","ref","orderByChild","equalTo","toLowerCase","on","snapshot","forEach","childItem","push","key","titulo","val","imagem","descricao","data","hora","local","cidade","ativo","today","brDate","slice","render","map","post"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport firebase from '../../firebase';\nimport { Link } from 'react-router-dom';\nimport './searchevents.css';\nimport { FaRegClock, FaRegCalendarAlt, FaMapMarkerAlt } from \"react-icons/fa\";\nimport { Container, Row, Col, Button, Form, FormGroup, Input } from 'reactstrap';\n\nclass SearchEvents extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            inputEvento: '',\n            inputCidade: '',\n            inputData: '',\n            passedEvents: [],\n            eventSearch: [],\n            verify: false\n        }\n        this.formatDate = this.formatDate.bind(this);\n        this.pesquisar = this.pesquisar.bind(this);\n    }\n\n\n    componentDidMount() {\n        this.state.passedEvents = this.props.location.itemsPassed;\n\n        if(this.state.passedEvents.passedName.length === 0 && this.state.passedEvents.passedCity.length === 0 && this.state.passedEvents.passedDate.length === 0){\n            this.setState({verify: false});\n        }else\n\n        if(this.state.passedEvents.passedName.length !== 0){\n            \n            firebase.app.ref('events').orderByChild(\"tituloLower\").equalTo(this.state.passedEvents.passedName.toLowerCase()).on('value', (snapshot) => {\n\n                let state = this.state;\n                state.eventSearch = [];\n\n                snapshot.forEach((childItem) => {\n                    state.eventSearch.push({\n                        key: childItem.key,\n                        titulo: childItem.val().titulo,\n                        imagem: childItem.val().imagem,\n                        descricao: childItem.val().descricao,\n                        data: childItem.val().data,\n                        hora: childItem.val().hora,\n                        local: childItem.val().local,\n                        cidade: childItem.val().cidade,\n                        ativo: childItem.val().ativo\n                    });\n                });\n                this.setState(state);\n                this.setState({verify: true});\n            })\n\n        }else\n\n        if(this.state.passedEvents.passedCity.length !== 0){\n            \n            firebase.app.ref('events').orderByChild(\"cidadeLower\").equalTo(this.state.passedEvents.passedCity.toLowerCase()).on('value', (snapshot) => {\n\n                let state = this.state;\n                state.eventSearch = [];\n\n                snapshot.forEach((childItem) => {\n                    state.eventSearch.push({\n                        key: childItem.key,\n                        titulo: childItem.val().titulo,\n                        imagem: childItem.val().imagem,\n                        descricao: childItem.val().descricao,\n                        data: childItem.val().data,\n                        hora: childItem.val().hora,\n                        local: childItem.val().local,\n                        cidade: childItem.val().cidade,\n                        ativo: childItem.val().ativo\n                    });\n                });\n                this.setState(state);\n                this.setState({verify: true});\n            })\n\n        }else\n\n        if(this.state.passedEvents.passedDate.length !== 0){\n            firebase.app.ref('events').orderByChild(\"data\").equalTo(this.state.passedEvents.passedDate).on('value', (snapshot) => {\n\n                let state = this.state;\n                state.eventSearch = [];\n\n                snapshot.forEach((childItem) => {\n                    state.eventSearch.push({\n                        key: childItem.key,\n                        titulo: childItem.val().titulo,\n                        imagem: childItem.val().imagem,\n                        descricao: childItem.val().descricao,\n                        data: childItem.val().data,\n                        hora: childItem.val().hora,\n                        local: childItem.val().local,\n                        cidade: childItem.val().cidade,\n                        ativo: childItem.val().ativo\n                    });\n                });\n                this.setState(state);\n                this.setState({verify: true});\n            })\n\n        }else\n\n        if(this.state.passedEvents.passedName.length !== 0 && this.state.passedEvents.passedCity.length !== 0){\n\n            firebase.app.ref('events').orderByChild(\"titulo_cidade\").equalTo(this.state.passedEvents.passedName.toLowerCase() + '_' + this.state.passedEvents.passedCity.toLowerCase()).on('value', (snapshot) => {\n\n                let state = this.state;\n                state.eventSearch = [];\n\n                snapshot.forEach((childItem) => {\n                    state.eventSearch.push({\n                        key: childItem.key,\n                        titulo: childItem.val().titulo,\n                        imagem: childItem.val().imagem,\n                        descricao: childItem.val().descricao,\n                        data: childItem.val().data,\n                        hora: childItem.val().hora,\n                        local: childItem.val().local,\n                        cidade: childItem.val().cidade,\n                        ativo: childItem.val().ativo\n                    });\n                });\n                this.setState(state);\n                this.setState({verify: true});\n            })\n        }else\n\n        if(this.state.passedEvents.passedCity.length !== 0 && this.state.passedEvents.passedDate.length !== 0){\n\n            firebase.app.ref('events').orderByChild(\"cidade_data\").equalTo(this.state.passedEvents.passedCity.toLowerCase() + '_' + this.state.passedEvents.passedDate).on('value', (snapshot) => {\n\n                let state = this.state;\n                state.eventSearch = [];\n\n                snapshot.forEach((childItem) => {\n                    state.eventSearch.push({\n                        key: childItem.key,\n                        titulo: childItem.val().titulo,\n                        imagem: childItem.val().imagem,\n                        descricao: childItem.val().descricao,\n                        data: childItem.val().data,\n                        hora: childItem.val().hora,\n                        local: childItem.val().local,\n                        cidade: childItem.val().cidade,\n                        ativo: childItem.val().ativo\n                    });\n                });\n                this.setState(state);\n                this.setState({verify: true});\n            })\n        }else\n\n        if(this.state.passedEvents.passedName.length !== 0 && this.state.passedEvents.passedDate.length !== 0){\n\n            firebase.app.ref('events').orderByChild(\"titulo_data\").equalTo(this.state.passedEvents.passedName.toLowerCase() + '_' + this.state.passedEvents.passedDate).on('value', (snapshot) => {\n\n                let state = this.state;\n                state.eventSearch = [];\n\n                snapshot.forEach((childItem) => {\n                    state.eventSearch.push({\n                        key: childItem.key,\n                        titulo: childItem.val().titulo,\n                        imagem: childItem.val().imagem,\n                        descricao: childItem.val().descricao,\n                        data: childItem.val().data,\n                        hora: childItem.val().hora,\n                        local: childItem.val().local,\n                        cidade: childItem.val().cidade,\n                        ativo: childItem.val().ativo\n                    });\n                });\n                this.setState(state);\n                this.setState({verify: true});\n            })\n        }\n        \n    }\n\n    formatDate(data) {\n        let today = data;\n\n        var brDate = today.slice(8, 10) + '/' +\n            today.slice(5, 7);\n        //  + '/' + today.slice(0, 4);\n\n        return brDate;\n    }\n\n    pesquisar = async () => {\n        const {inputEvento, inputCidade, inputData, returnedEvents} = this.state;\n        try {\n            returnedEvents = firebase.searchEvents(inputEvento);\n            console.log(returnedEvents);\n        } catch(error) {\n            alert(error.message);\n        }\n    }\n\n    render() {\n        const {verify} = this.state;\n\n        // if(verify){\n            return (\n                <div id=\"tip\" className=\"px-3\">\n                    {/* <Container id=\"search\">\n                        <Form onSubmit={this.pesquisar}>\n                            <FormGroup>\n                                <Row id=\"specific\">\n                                    <Col xs=\"3\"><Input id=\"eventName\" type=\"text\" placeholder=\"Buscar por Eventos\" \n                                        onChange={(e) => this.setState({ inputEvento: e.target.value })}/>\n                                    </Col>\n                                    <Col xs=\"3\"><Input id=\"cityName\" type=\"text\" placeholder=\"Buscar por Cidades\"\n                                        onChange={(e) => this.setState({ inputCidade: e.target.value })}/>\n                                    </Col>\n                                    <Col xs=\"3\"><Input id=\"eventDate\" type=\"date\" placeholder=\"Buscar por Datas\"\n                                        onChange={(e) => this.setState({ inputData: e.target.value })}/>\n                                    </Col>\n                                    <Col xs=\"3\"><Button color=\"primary\" type=\"submit\">Pesquisar</Button>\n                                    </Col>\n                                </Row>\n                            </FormGroup>\n                        </Form>\n                    </Container> */}\n\n                    \n\n                    <Container>\n                        <Container id=\"post\">\n                            <Row>\n                                {this.state.eventSearch.map((post) => {\n                                    //if (post.ativo) {\n                                        return (\n                                            <Col xs=\"12\" sm=\"4\">\n                                                <div id=\"link\" key={post.key}>\n                                                    <Link to={`/event/${post.key}`}>\n                                                        <article>\n                                                            <header>\n                                                                <div className=\"title\">\n                                                                    <strong>{post.titulo}</strong>\n                                                                </div>\n                                                            </header>\n                                                            <img src={post.imagem} alt=\"Capa do post\" className='rounded'/>\n                                                            <footer id=\"dados\">\n                                                                <Row className='text-center'>\n                                                                    <Col xs='6'>\n                                                                        <p><span className='mx-2'><FaRegCalendarAlt className='icon' /></span>{this.formatDate(post.data)}</p>\n                                                                    </Col>\n                                                                    <Col xs='6'>\n                                                                        <p><span className='mx-2'><FaRegClock className='icon' /></span>{post.hora}</p>\n                                                                    </Col>\n                                                                </Row>\n                                                                <Row >\n                                                                    <Col xs='12' className='ml-3'>\n                                                                        <p><span className='mx-2'><FaMapMarkerAlt className='icon' /></span>{post.cidade}</p>\n                                                                    </Col>\n                                                                </Row>\n                                                            </footer>\n                                                        </article>\n                                                    </Link>\n                                                </div>\n                                            </Col>\n                                        );\n                                    //}\n                                })}\n                            </Row>\n                        </Container>\n                    </Container>\n                    \n                </div>\n            )\n        // }\n    }\n}\n\nexport default SearchEvents;"]},"metadata":{},"sourceType":"module"}