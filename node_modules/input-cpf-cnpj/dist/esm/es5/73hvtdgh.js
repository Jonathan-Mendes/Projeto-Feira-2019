/*! Built with http://stenciljs.com */
import{h}from"./input-cpf-cnpj.core.js";var CPF_LENGTH=11,CNPJ_LENGTH=14,DIVISOR=11,CPF_WEIGHTS=[[10,9,8,7,6,5,4,3,2],[11,10,9,8,7,6,5,4,3,2]],CNPJ_WEIGHTS=[[5,4,3,2,9,8,7,6,5,4,3,2],[6,5,4,3,2,9,8,7,6,5,4,3,2]];function isCPFValid(e){var t=e.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,""),n=new Set(t.split(""));if(t.length!==CPF_LENGTH||1===n.size)return!1;var r=t.substring(0,9),i=t.substring(0,10),a=t[9],l=t[10];return a===calculateFirstDigit(r)&&l===calculateSecondDigit(i)}function isCNPJValid(e){var t=e.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,""),n=new Set(t.split(""));if(t.length!==CNPJ_LENGTH||1===n.size)return!1;var r=t.substring(0,12),i=t.substring(0,13),a=t[12],l=t[13];return a===calculateFirstDigit(r)&&l===calculateSecondDigit(i)}function calculateFirstDigit(e){return calculateDigit(e)}function calculateSecondDigit(e){return calculateDigit(e,2,10)}function calculateDigit(e,t,n){void 0===t&&(t=1),void 0===n&&(n=9);for(var r=0,i=e.length===n?CPF_WEIGHTS[t-1]:CNPJ_WEIGHTS[t-1],a=0;a<e.length;a++)r+=parseInt(e[a])*i[a];var l=r%DIVISOR;return l<2?"0":String(DIVISOR-l)}var InputCpfCnpj=function(){function e(){}return e.prototype.inputChanged=function(e){var t,n=e.target.value.trim(),r=this.removeAnySpaces(n);(r=this.removePunctuation(r)).length<=CPF_LENGTH?(this.value=this.applyCPFMask(r),t=isCPFValid(r)):(this.value=this.applyCNPJMask(r),t=isCNPJValid(r)),this.valid.emit(t)},e.prototype.removePunctuation=function(e){return e.replace(/(~|`|!|@|#|$|%|^|&|\*|\(|\)|{|}|\[|\]|;|:|\"|'|<|,|\.|>|\?|\/|\\|\||-|_|\+|=)/g,"")},e.prototype.removeAnySpaces=function(e){return e.replace(/ +?/g,"")},e.prototype.applyCPFMask=function(e){return e.replace(/^(\d{3})/,"$1.").replace(/^(\d{3}.)(\d{3})/,"$1$2.").replace(/^(\d{3}.)(\d{3}.)(\d{3})/,"$1$2$3-")},e.prototype.applyCNPJMask=function(e){return e.replace(/^(\d{2})/,"$1.").replace(/^(\d{2}.)(\d{3})/,"$1$2.").replace(/^(\d{2}.)(\d{3}.)(\d{3})/,"$1$2$3/").replace(/^(\d{2}.)(\d{3}.)(\d{3}\/)(\d{4})/,"$1$2$3$4-")},e.prototype.render=function(){var e=this;return h("input",{type:"text",value:this.value,autocomplete:this.autocomplete,maxlength:this.maxlength,minlength:this.minlength,pattern:this.pattern,placeholder:this.placeholder,size:this.size,required:this.required,class:this.classes,onKeyUp:function(t){return e.inputChanged(t)},onChange:function(t){return e.changed.emit(t)},onInput:function(t){return e.input.emit(t)}})},Object.defineProperty(e,"is",{get:function(){return"input-cpf-cnpj"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{autocomplete:{type:String,attr:"autocomplete"},classes:{type:String,attr:"classes"},maxlength:{type:String,attr:"maxlength"},minlength:{type:String,attr:"minlength"},pattern:{type:String,attr:"pattern"},placeholder:{type:String,attr:"placeholder"},required:{type:Boolean,attr:"required"},size:{type:Number,attr:"size"},value:{type:String,attr:"value",mutable:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"valid",method:"valid",bubbles:!0,cancelable:!0,composed:!0},{name:"changed",method:"changed",bubbles:!0,cancelable:!0,composed:!0},{name:"input",method:"input",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return""},enumerable:!0,configurable:!0}),e}();export{InputCpfCnpj};