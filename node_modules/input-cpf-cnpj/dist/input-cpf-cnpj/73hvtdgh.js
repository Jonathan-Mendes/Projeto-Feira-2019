/*! Built with http://stenciljs.com */
const{h:e}=window.InputCpfCnpj,t=11,n=14,r=11,a=[[10,9,8,7,6,5,4,3,2],[11,10,9,8,7,6,5,4,3,2]],i=[[5,4,3,2,9,8,7,6,5,4,3,2],[6,5,4,3,2,9,8,7,6,5,4,3,2]];function s(e){return p(e)}function l(e){return p(e,2,10)}function p(e,t=1,n=9){let s=0,l=e.length===n?a[t-1]:i[t-1];for(let t=0;t<e.length;t++)s+=parseInt(e[t])*l[t];const p=s%r;return p<2?"0":String(r-p)}class c{inputChanged(e){const r=e.target.value.trim();let a,i=this.removeAnySpaces(r);(i=this.removePunctuation(i)).length<=t?(this.value=this.applyCPFMask(i),a=function(e){const n=i.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,""),r=new Set(n.split(""));if(n.length!==t||1===r.size)return!1;const a=n.substring(0,9),p=n.substring(0,10),c=n[9],u=n[10];return c===s(a)&&u===l(p)}()):(this.value=this.applyCNPJMask(i),a=function(e){const t=i.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,""),r=new Set(t.split(""));if(t.length!==n||1===r.size)return!1;const a=t.substring(0,12),p=t.substring(0,13),c=t[12],u=t[13];return c===s(a)&&u===l(p)}()),this.valid.emit(a)}removePunctuation(e){return e.replace(/(~|`|!|@|#|$|%|^|&|\*|\(|\)|{|}|\[|\]|;|:|\"|'|<|,|\.|>|\?|\/|\\|\||-|_|\+|=)/g,"")}removeAnySpaces(e){return e.replace(/ +?/g,"")}applyCPFMask(e){return e.replace(/^(\d{3})/,"$1.").replace(/^(\d{3}.)(\d{3})/,"$1$2.").replace(/^(\d{3}.)(\d{3}.)(\d{3})/,"$1$2$3-")}applyCNPJMask(e){return e.replace(/^(\d{2})/,"$1.").replace(/^(\d{2}.)(\d{3})/,"$1$2.").replace(/^(\d{2}.)(\d{3}.)(\d{3})/,"$1$2$3/").replace(/^(\d{2}.)(\d{3}.)(\d{3}\/)(\d{4})/,"$1$2$3$4-")}render(){return e("input",{type:"text",value:this.value,autocomplete:this.autocomplete,maxlength:this.maxlength,minlength:this.minlength,pattern:this.pattern,placeholder:this.placeholder,size:this.size,required:this.required,class:this.classes,onKeyUp:e=>this.inputChanged(e),onChange:e=>this.changed.emit(e),onInput:e=>this.input.emit(e)})}static get is(){return"input-cpf-cnpj"}static get properties(){return{autocomplete:{type:String,attr:"autocomplete"},classes:{type:String,attr:"classes"},maxlength:{type:String,attr:"maxlength"},minlength:{type:String,attr:"minlength"},pattern:{type:String,attr:"pattern"},placeholder:{type:String,attr:"placeholder"},required:{type:Boolean,attr:"required"},size:{type:Number,attr:"size"},value:{type:String,attr:"value",mutable:!0}}}static get events(){return[{name:"valid",method:"valid",bubbles:!0,cancelable:!0,composed:!0},{name:"changed",method:"changed",bubbles:!0,cancelable:!0,composed:!0},{name:"input",method:"input",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return""}}export{c as InputCpfCnpj};